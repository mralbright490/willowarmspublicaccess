<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ wapa broadcasting ]</title>
    <meta name="description" content="Tune into Willow Arms Public Access, an offbeat internet TV channel featuring live streams, the Bonfire Podcast, unique music videos ([vibe]rations), experimental shows like 'POV: mom & dad are fighting again', and lo-fi streams ([iinnermission]). Discover weird online broadcasts.">
    <link rel="icon" href="wapabroadcastlogo.ico" type="image/x-icon">
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #0c0c1a;
            color: #cccccc;
            line-height: 1.5;
            overflow-x: hidden;
            font-size: 16px;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        header {
            background-color: #1a1a33;
            color: #00e6e6;
            padding: 20px;
            text-align: center;
            /* margin-bottom: 30px; Removed margin-bottom */
            border-bottom: 4px solid #005b5b;
            transition: background-color 0.5s ease, border-color 0.5s ease, color 0.5s ease;
        }

        header h2 {
            margin-top: 0;
            font-size: 2em;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #00a3a3;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            margin-bottom: 0;
            transition: color 0.5s ease;
        }

        header p {
            font-size: 1em;
            color: #999999;
            margin-top: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            margin-bottom: 0;
            transition: color 0.5s ease;
        }

        /* --- New Controls Bar Styling --- */
        #controls-bar {
            background-color: #1f1f3d; /* Slightly different shade */
            padding: 8px 20px;
            display: flex;
            justify-content: space-between; /* Space out items */
            align-items: center;
            border-bottom: 1px solid #005b5b;
            margin-bottom: 30px; /* Add margin below the bar */
            flex-wrap: wrap; /* Allow items to wrap on small screens */
            gap: 10px; /* Add gap between items when wrapping */
            transition: background-color 0.5s ease, border-color 0.5s ease;
        }

        #controls-bar .taplink-button {
            /* Inherits base styles, adjust as needed */
            padding: 6px 15px; /* Make button smaller */
            font-size: 0.9em;
            margin: 0; /* Remove extra margins */
        }

        #controls-bar .theme-switcher {
             /* Remove positioning styles from footer */
             text-align: right; /* Align to right within its space */
             margin: 0;
             padding: 0;
             border: none;
             color: #cccccc; /* Ensure text is visible */
             display: flex; /* Use flex for label and select */
             align-items: center;
             gap: 8px; /* Space between label and select */
             transition: color 0.5s ease;
        }

        #controls-bar .theme-switcher label {
            margin-right: 0; /* Remove default margin */
            font-size: 0.85em;
            text-transform: uppercase;
        }

        #controls-bar .theme-switcher select {
            /* Inherits base styles, adjust as needed */
            font-size: 0.85em;
            padding: 4px 20px 4px 8px; /* Adjust padding */
            /* Re-apply arrow styling if needed, might inherit */
             background-image: linear-gradient(45deg, transparent 50%, currentColor 50%), linear-gradient(135deg, currentColor 50%, transparent 50%);
             background-position: calc(100% - 8px) center, calc(100% - 4px) center;
             background-size: 4px 4px, 4px 4px;
             background-repeat: no-repeat;
        }
        /* --- End Controls Bar Styling --- */


        main {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        section {
            background-color: #1a1a33;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid #005b5b;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.3);
            box-sizing: border-box;
            transition: background-color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }

        main section:last-child {
            margin-bottom: 0;
        }

        section h2 {
            color: #00a3a3;
            border-bottom: 2px solid #005b5b;
            padding-bottom: 8px;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-transform: uppercase;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            max-width: 100%;
            transition: color 0.5s ease, border-color 0.5s ease;
        }

         section h3 {
             color: #00a3a3;
             border-bottom: 2px solid #005b5b;
             padding-bottom: 8px;
             margin-top: 0;
             margin-bottom: 20px;
             font-size: 1.8em;
             text-transform: uppercase;
             white-space: nowrap;
             overflow: hidden;
             text-overflow: ellipsis;
             display: block;
             max-width: 100%;
             transition: color 0.5s ease, border-color 0.5s ease;
         }

        p {
            color: #cccccc;
            margin-bottom: 15px;
            word-break: break-word;
            transition: color 0.5s ease;
        }

        #livestream .video-container {
            position: relative;
            max-width: 1280px;
            margin: 20px auto;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            background-color: #000;
            border: 2px solid #00e6e6;
            box-shadow: 0 0 10px rgba(0, 230, 230, 0.5);
            box-sizing: border-box;
             transition: border-color 0.5s ease, box-shadow 0.5s ease;
        }

        #livestream .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        #livestream .video-container p {
             position: absolute;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             display: flex;
             justify-content: center;
             align-items: center;
             color: #fff;
             font-size: 1.2em;
             padding: 20px;
             box-sizing: border-box;
             text-align: center;
             background-color: #000;
             z-index: 1;
             max-width: 100%;
        }

        .show {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #2a2a4d;
            border-left: 4px solid #00a3a3;
            box-sizing: border-box;
            transition: background-color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }

        .show h3 {
            margin-top: 0;
            margin-bottom: 8px;
            color: #00e6e6;
            font-size: 1.3em;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            transition: color 0.5s ease;
        }

        .show p {
            color: #bbbbbb;
            font-size: 0.95em;
             word-break: break-word;
             transition: color 0.5s ease;
        }

        #tiktok-feed .tiktok-container {
            height: 500px;
            overflow-y: scroll;
            border: 1px solid #00a3a3;
            padding: 10px;
            background-color: #1a1a33;
            box-sizing: border-box;
            width: 100%;
            max-width: none;
            transition: border-color 0.5s ease, background-color 0.5s ease; /* Added */
        }

        #tiktok-feed .tiktok-container p {
             text-align: center;
             color: #999999;
             font-size: 0.9em;
             margin-bottom: 0;
             position: static;
             width: auto;
             height: auto;
             padding: 0;
             transition: color 0.5s ease; /* Added */
        }

        /* Removed #contact styles as section is removed */

        .taplink-button { /* Base button style for reuse */
            display: inline-block;
            background-color: #00a3a3;
            color: #1a1a33;
            padding: 12px 25px;
            text-decoration: none;
            text-transform: uppercase;
            font-size: 1.1em;
            border-radius: 5px;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
            border: 2px solid #00a3a3;
        }

        .taplink-button:hover {
            background-color: #1a1a33;
            color: #00e6e6;
            border-color: #00e6e6;
        }

        /* Base theme switcher styles, used in controls bar */
        .theme-switcher {
            /* No specific positioning here, handled by container */
            color: #cccccc;
            transition: color 0.5s ease; /* Added */
        }

        .theme-switcher label {
            margin-right: 10px;
            font-size: 0.9em;
            text-transform: uppercase;
        }

        .theme-switcher select {
            background-color: #1a1a33;
            color: #00e6e6;
            border: 1px solid #00a3a3;
            padding: 5px;
            border-radius: 4px;
            font-size: 0.9em;
            cursor: pointer;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease; /* Added */
             /* Style for dropdown arrow */
            background-image: linear-gradient(45deg, transparent 50%, currentColor 50%), linear-gradient(135deg, currentColor 50%, transparent 50%);
            background-position: calc(100% - 15px) calc(1em + 2px), calc(100% - 10px) calc(1em + 2px);
            background-size: 5px 5px, 5px 5px;
            background-repeat: no-repeat;
            padding-right: 25px; /* Make space for arrow */
        }

        .theme-switcher select option {
            background-color: #1a1a33; /* Ensure options have a consistent background */
            color: #00e6e6;
        }

        #participate-button {
            position: fixed;
            z-index: 1000;
            display: none; /* Hidden initially */
            padding: 10px 15px;
            background-color: #00a3a3;
            color: #1a1a33;
            border: 2px solid #00e6e6;
            border-radius: 5px;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 1em;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        #participate-button:hover {
             background-color: #00e6e6;
             color: #1a1a33;
             border-color: #00a3a3;
        }

        #popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: none; /* Hidden initially */
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        #popup-content {
            background-color: #1a1a33;
            padding: 30px;
            border: 2px solid #00a3a3;
            border-radius: 8px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 0 20px rgba(0, 163, 163, 0.5);
            color: #cccccc;
            transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease; /* Added */
        }

        #popup-content p {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        #popup-yes-button {
            background-color: #00a3a3;
            color: #1a1a33;
            border: 2px solid #00e6e6;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 1em;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        #popup-yes-button:hover {
             background-color: #00e6e6;
             color: #1a1a33;
             border-color: #00a3a3;
        }

        /* --- Theme Styles (Unchanged) --- */
        /* --- Theme: Noire --- */
        body.theme-noire { background-color: #111; color: #eee; }
        body.theme-noire header { background-color: #222; border-bottom-color: #555; }
        body.theme-noire #controls-bar { background-color: #2a2a2a; border-bottom-color: #555; } /* Theme Controls Bar */
        body.theme-noire #controls-bar .theme-switcher { color: #bbb; } /* Theme Controls Bar Text */
        body.theme-noire #controls-bar .taplink-button { background-color: #555; color: #eee; border-color: #888; }
        body.theme-noire #controls-bar .taplink-button:hover { background-color: #888; color: #111; border-color: #eee; }
        body.theme-noire #controls-bar .theme-switcher select { background-color: #333; color: #eee; border-color: #888; }
        body.theme-noire #controls-bar .theme-switcher select option { background-color: #333; color: #eee; }
        body.theme-noire header h2, body.theme-noire section h2, body.theme-noire section h3 { color: #fff; border-bottom-color: #555; }
        body.theme-noire header p { color: #bbb; }
        body.theme-noire section { background-color: #222; border-color: #555; box-shadow: 5px 5px 15px rgba(0,0,0,0.5); }
        body.theme-noire #livestream .video-container { border-color: #fff; box-shadow: 0 0 10px rgba(255,255,255,0.3); }
        body.theme-noire .show { background-color: #333; border-left-color: #888; }
        body.theme-noire .show h3 { color: #eee; }
        body.theme-noire .show p { color: #ccc; }
        /* Removed #contact link styles */
        body.theme-noire #tiktok-feed .tiktok-container { border-color: #555; background-color: #222; }
        body.theme-noire #tiktok-feed .tiktok-container p { color: #bbb; }
        /* Removed standalone taplink button theme styles */
        /* Removed standalone theme switcher theme styles */
        body.theme-noire footer { background-color: #222; color: #555; border-top-color: #555; }
        body.theme-noire #participate-button { background-color: #555; color: #eee; border-color: #888; }
        body.theme-noire #participate-button:hover { background-color: #888; color: #111; border-color: #eee; }
        body.theme-noire #popup-content { background-color: #222; border-color: #888; box-shadow: 0 0 20px rgba(136, 136, 136, 0.5); color: #eee; }
        body.theme-noire #popup-yes-button { background-color: #555; color: #eee; border-color: #888; }
        body.theme-noire #popup-yes-button:hover { background-color: #888; color: #111; border-color: #eee; }

        /* --- Theme: Slade --- */
        body.theme-slade { background-color: #222; color: #eee; }
        body.theme-slade header { background-color: #333; border-bottom-color: #ff6600; }
        body.theme-slade #controls-bar { background-color: #3a3a3a; border-bottom-color: #ff6600; } /* Theme Controls Bar */
        body.theme-slade #controls-bar .theme-switcher { color: #ccc; } /* Theme Controls Bar Text */
        body.theme-slade #controls-bar .taplink-button { background-color: #ff6600; color: #222; border-color: #ff9900; }
        body.theme-slade #controls-bar .taplink-button:hover { background-color: #ff9900; color: #111; border-color: #ffcc00; }
        body.theme-slade #controls-bar .theme-switcher select { background-color: #444; color: #ff9900; border-color: #ff6600; }
        body.theme-slade #controls-bar .theme-switcher select option { background-color: #444; color: #ff9900; }
        body.theme-slade header h2, body.theme-slade section h2, body.theme-slade section h3 { color: #ff9900; border-bottom-color: #ff6600; }
        body.theme-slade header p { color: #ccc; }
        body.theme-slade section { background-color: #333; border-color: #ff6600; box-shadow: 5px 5px 15px rgba(0,0,0,0.4); }
        body.theme-slade #livestream .video-container { border-color: #ff9900; box-shadow: 0 0 10px rgba(255,153,0,0.5); }
        body.theme-slade .show { background-color: #444; border-left-color: #ff9900; }
        body.theme-slade .show h3 { color: #ffcc00; }
        body.theme-slade .show p { color: #ddd; }
        /* Removed #contact link styles */
        body.theme-slade #tiktok-feed .tiktok-container { border-color: #ff6600; background-color: #333; }
        body.theme-slade #tiktok-feed .tiktok-container p { color: #ccc; }
        /* Removed standalone taplink button theme styles */
        /* Removed standalone theme switcher theme styles */
        body.theme-slade footer { background-color: #333; color: #ff6600; border-top-color: #ff6600; }
        body.theme-slade #participate-button { background-color: #ff6600; color: #222; border-color: #ff9900; }
        body.theme-slade #participate-button:hover { background-color: #ff9900; color: #111; border-color: #ffcc00; }
        body.theme-slade #popup-content { background-color: #333; border-color: #ff9900; box-shadow: 0 0 20px rgba(255, 153, 0, 0.5); color: #eee; }
        body.theme-slade #popup-yes-button { background-color: #ff6600; color: #222; border-color: #ff9900; }
        body.theme-slade #popup-yes-button:hover { background-color: #ff9900; color: #111; border-color: #ffcc00; }

        /* --- Theme: Mr. Johnson --- */
        body.theme-mr-johnson { background-color: #1a0033; color: #00cc00; background-image: url('garage1.png'); background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center center; }
        body.theme-mr-johnson header { background-color: #2a0055; border-bottom-color: #008000; color: #00ff00; }
        body.theme-mr-johnson #controls-bar { background-color: #300060; border-bottom-color: #008000; } /* Theme Controls Bar */
        body.theme-mr-johnson #controls-bar .theme-switcher { color: #00aa00; } /* Theme Controls Bar Text */
        body.theme-mr-johnson #controls-bar .taplink-button { background-color: #008000; color: #1a0033; border-color: #00ff00; }
        body.theme-mr-johnson #controls-bar .taplink-button:hover { background-color: #00ff00; color: #ffffff; border-color: #32cd32; }
        body.theme-mr-johnson #controls-bar .theme-switcher select { background-color: #3a0066; color: #00ff00; border-color: #008000; }
        body.theme-mr-johnson #controls-bar .theme-switcher select option { background-color: #3a0066; color: #00ff00; }
        body.theme-mr-johnson header h2, body.theme-mr-johnson section h2, body.theme-mr-johnson section h3 { color: #00ff00; border-bottom-color: #008000; }
        body.theme-mr-johnson header p { color: #00aa00; }
        body.theme-mr-johnson section { background-color: rgba(42, 0, 85, 0.85); border-color: #008000; box-shadow: 5px 5px 15px rgba(0,0,0,0.4); } /* Added transparency */
        body.theme-mr-johnson #livestream .video-container { border-color: #00ff00; box-shadow: 0 0 10px rgba(0,255,0,0.5); }
        body.theme-mr-johnson .show { background-color: rgba(58, 0, 102, 0.9); border-left-color: #00ff00; } /* Added transparency */
        body.theme-mr-johnson .show h3 { color: #32cd32; }
        body.theme-mr-johnson .show p { color: #00dd00; }
        /* Removed #contact link styles */
        body.theme-mr-johnson #tiktok-feed .tiktok-container { border-color: #008000; background-color: rgba(42, 0, 85, 0.85); } /* Added transparency */
        body.theme-mr-johnson #tiktok-feed .tiktok-container p { color: #00aa00; }
        /* Removed standalone taplink button theme styles */
        /* Removed standalone theme switcher theme styles */
        body.theme-mr-johnson footer { background-color: #2a0055; color: #00aa00; border-top-color: #008000; }
        body.theme-mr-johnson #participate-button { background-color: #008000; color: #1a0033; border-color: #00ff00; }
        body.theme-mr-johnson #participate-button:hover { background-color: #00ff00; color: #ffffff; border-color: #32cd32; }
        body.theme-mr-johnson #popup-content { background-color: #2a0055; border-color: #00ff00; box-shadow: 0 0 20px rgba(0, 255, 0, 0.5); color: #00dd00; }
        body.theme-mr-johnson #popup-yes-button { background-color: #008000; color: #1a0033; border-color: #00ff00; }
        body.theme-mr-johnson #popup-yes-button:hover { background-color: #00ff00; color: #ffffff; border-color: #32cd32; }

        /* --- Theme: Albright (Steampunk - Revised) --- */
        body.theme-albright { color: #cdc8b1; background-image: url('tp1.png'); background-color: #281c12; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center center; }
        body.theme-albright header { background-color: rgba(74, 57, 46, 0.85); border-bottom: 4px solid #b46a00; color: #ffc107; } /* Added transparency */
        body.theme-albright #controls-bar { background-color: rgba(90, 70, 55, 0.9); border-bottom-color: #b46a00; } /* Theme Controls Bar + transparency */
        body.theme-albright #controls-bar .theme-switcher { color: #a1887f; } /* Theme Controls Bar Text */
        body.theme-albright #controls-bar .taplink-button { background-color: #b46a00; color: #281c12; border-color: #cd7f32; }
        body.theme-albright #controls-bar .taplink-button:hover { background-color: #cd7f32; color: #4a392e; border-color: #ffd700; }
        body.theme-albright #controls-bar .theme-switcher select { background-color: #6f4f2d; color: #ffc107; border-color: #b46a00; }
        body.theme-albright #controls-bar .theme-switcher select option { background-color: #6f4f2d; color: #ffc107; }
        body.theme-albright header h2, body.theme-albright section h2, body.theme-albright section h3 { color: #ffc107; border-bottom-color: #b46a00; }
        body.theme-albright header p { color: #a1887f; }
        body.theme-albright section { background-color: rgba(74, 57, 46, 0.85); border: 1px solid #b46a00; box-shadow: 5px 5px 15px rgba(0,0,0,0.6); } /* Added transparency */
        body.theme-albright #livestream .video-container { border-color: #ffc107; box-shadow: 0 0 10px rgba(255,193,7,0.6); }
        body.theme-albright .show { background-color: rgba(111, 79, 45, 0.9); border-left: 4px solid #cd7f32; } /* Added transparency */
        body.theme-albright .show h3 { color: #ffd700; }
        body.theme-albright .show p { color: #eee; }
        /* Removed #contact link styles */
        body.theme-albright #tiktok-feed .tiktok-container { border-color: #b46a00; background-color: rgba(74, 57, 46, 0.85); } /* Added transparency */
        body.theme-albright #tiktok-feed .tiktok-container p { color: #a1887f; }
        /* Removed standalone taplink button theme styles */
        /* Removed standalone theme switcher theme styles */
        body.theme-albright footer { background-color: rgba(28, 18, 11, 0.9); color: #a1887f; border-top: 1px solid #4a392e; } /* Added transparency */
        body.theme-albright #participate-button { background-color: #b46a00; color: #281c12; border-color: #cd7f32; }
        body.theme-albright #participate-button:hover { background-color: #cd7f32; color: #4a392e; border-color: #ffd700; }
        body.theme-albright #popup-content { background-color: rgba(74, 57, 46, 0.95); border-color: #ffc107; box-shadow: 0 0 20px rgba(255, 193, 7, 0.6); color: #cdc8b1; } /* Added transparency */
        body.theme-albright #popup-yes-button { background-color: #b46a00; color: #281c12; border-color: #cd7f32; }
        body.theme-albright #popup-yes-button:hover { background-color: #cd7f32; color: #4a392e; border-color: #ffd700; }

        /* --- Theme: Riggin (Orange & Black) - NEW --- */
        body.theme-riggin { background-color: #000000; color: #FFA500; }
        body.theme-riggin header { background-color: #1a1a1a; border-bottom: 4px solid #FF8C00; color: #FFA500; }
        body.theme-riggin #controls-bar { background-color: #222222; border-bottom-color: #FF8C00; } /* Theme Controls Bar */
        body.theme-riggin #controls-bar .theme-switcher { color: #FFD700; } /* Theme Controls Bar Text */
        body.theme-riggin #controls-bar .taplink-button { background-color: #FFA500; color: #000000; border-color: #FF8C00; }
        body.theme-riggin #controls-bar .taplink-button:hover { background-color: #FF8C00; color: #000000; border-color: #FFA500; }
        body.theme-riggin #controls-bar .theme-switcher select { background-color: #333333; color: #FFA500; border-color: #FF8C00; }
        body.theme-riggin #controls-bar .theme-switcher select option { background-color: #333333; color: #FFA500; }
        body.theme-riggin header h2 { color: #FFA500; }
        body.theme-riggin header p { color: #FFD700; }
        body.theme-riggin section { background-color: #1a1a1a; border: 1px solid #FF8C00; box-shadow: 5px 5px 15px rgba(50,50,50,0.4); }
        body.theme-riggin section h2, body.theme-riggin section h3 { color: #FFA500; border-bottom-color: #FF8C00; }
        body.theme-riggin #livestream .video-container { border-color: #FFA500; box-shadow: 0 0 10px rgba(255,165,0,0.6); }
        body.theme-riggin .show { background-color: #333333; border-left: 4px solid #FFA500; }
        body.theme-riggin .show h3 { color: #FFD700; }
        body.theme-riggin .show p { color: #cccccc; }
        /* Removed #contact link styles */
        body.theme-riggin #tiktok-feed .tiktok-container { border-color: #FF8C00; background-color: #1a1a1a; }
        body.theme-riggin #tiktok-feed .tiktok-container p { color: #FFD700; }
        /* Removed standalone taplink button theme styles */
        /* Removed standalone theme switcher theme styles */
        body.theme-riggin footer { background-color: #1a1a1a; color: #FFD700; border-top: 1px solid #FF8C00; }
        body.theme-riggin #participate-button { background-color: #FFA500; color: #000000; border-color: #FF8C00; }
        body.theme-riggin #participate-button:hover { background-color: #FF8C00; color: #000000; border-color: #FFA500; }
        body.theme-riggin #popup-content { background-color: #1a1a1a; border-color: #FFA500; box-shadow: 0 0 20px rgba(255, 165, 0, 0.6); color: #FFA500; }
        body.theme-riggin #popup-yes-button { background-color: #FFA500; color: #000000; border-color: #FF8C00; }
        body.theme-riggin #popup-yes-button:hover { background-color: #FF8C00; color: #000000; border-color: #FFA500; }


        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            background-color: #1a1a33;
            color: #666666;
            font-size: 0.85em;
            border-top: 1px solid #005b5b;
            transition: background-color 0.5s ease, color 0.5s ease, border-top-color 0.5s ease;
        }

         /* --- Responsive adjustments --- */
        @media (max-width: 768px) {
            main {
                padding: 0 15px;
            }
            /* Adjust controls bar for smaller screens */
            #controls-bar {
                 padding: 8px 15px;
                 justify-content: center; /* Center items if they wrap */
            }
             #controls-bar .theme-switcher {
                 text-align: center; /* Center theme switcher if it wraps */
                 width: 100%; /* Allow it to take full width if needed */
                 justify-content: center;
             }
             #controls-bar .taplink-button {
                 margin-bottom: 5px; /* Add space below button if wrapping */
             }

            section h2, section h3 {
                font-size: 1.4em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
            section {
                padding: 20px;
                margin-bottom: 20px;
            }
            .show {
                padding: 12px;
            }

            .show h3 {
                font-size: 1em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
            .show p {
                 white-space: normal;
                 overflow: visible;
                 text-overflow: clip;
            }
            header h2 {
                 font-size: 1.4em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
            header p {
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
             /* Removed theme switcher select adjustments from footer */
        }

        @media (max-width: 480px) {
             main {
                 padding: 0 10px;
             }
             /* Further adjust controls bar */
             #controls-bar {
                 padding: 6px 10px;
             }
              #controls-bar .taplink-button {
                 font-size: 0.8em;
                 padding: 5px 10px;
             }
             #controls-bar .theme-switcher label {
                 font-size: 0.75em;
             }
              #controls-bar .theme-switcher select {
                 font-size: 0.75em;
                 padding: 3px 18px 3px 6px; /* Adjust padding */
                 background-position: calc(100% - 6px) center, calc(100% - 3px) center; /* Adjust arrow pos */
                 background-size: 3px 3px, 3px 3px; /* Adjust arrow size */
             }

            header h2 {
                font-size: 1.2em;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            section {
                padding: 15px;
                margin-bottom: 15px;
            }

            section h2, section h3 {
                font-size: 1.2em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
             #livestream .video-container {
                 max-width: 100%;
                 margin-left: 0;
                 margin-right: 0;
                 border-left: none;
                 border-right: none;
                 box-shadow: none;
            }
             #livestream .video-container p {
                 min-height: 0;
                 padding: 10px;
             }
             /* Base Taplink button style updated earlier */
             .show h3 {
                 font-size: 0.9em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
             }
             .show p {
                  white-space: normal;
                  overflow: visible;
                  text-overflow: clip;
             }
             /* Removed theme switcher select adjustments from footer */
        }
    </style>
</head>
<body>

    <button id="participate-button">Participate</button>

    <div id="popup-overlay">
        <div id="popup-content">
            <p>You've come here in search of release, huh?</p>
            <button id="popup-yes-button">Yes</button>
        </div>
    </div>

    <header>
        <h2>// WILLOW ARMS PUBLIC ACCESS \\</h2>
        <p>Indie Online Broadcasts</p>
    </header>

    <div id="controls-bar">
        <a href="https://taplink.cc/wapaccess" class="taplink-button" target="_blank" rel="noopener noreferrer">
            Links
        </a>
        <div class="theme-switcher">
            <label for="theme-select">Theme:</label>
            <select id="theme-select">
                <option value="default">Default</option>
                <option value="noire">Noire</option>
                <option value="slade">Slade</option>
                <option value="mr-johnson">Mr. Johnson</option>
                <option value="albright">Albright</option>
                <option value="riggin">Riggin</option>
            </select>
        </div>
    </div>
    <main>
        <section id="livestream">
            <h2>[tune in]</h2>
            <div class="video-container">
                 <iframe src="https://player.kick.com/willowarmspublicaccess" height="720" width="1280" frameborder="0" scrolling="no" allowfullscreen="true"></iframe>
            </div>
        </section>

        <section id="about">
            <h2>[who are we]</h2>
            <p>Willow Arms Public Access is your source for truly independent internet television. We're an online broadcast experiment featuring live streams, unique shows, and unfiltered content outside the mainstream. If you're searching for offbeat online TV or a community public access vibe, you've found it.</p>
        </section>

        <section id="shows">
            <h2>[lineup]</h2>
            <p>Explore the programming lineup on Willow Arms Public Access:</p>
            <div class="show">
                <h3>:: The Bonfire Podcast :: Live Discussions & Rambling</h3>
                <p>Tune into The Bonfire Podcast live stream or catch reruns. It's an unfiltered discussion show covering anything and everything, like a digital gathering around a late-night fire. Expect tangents, strong opinions, and maybe a little bit of chaos. It's our main talk show broadcast.</p>
            </div>

            <div class="show">
                <h3>:: [vibe]rations :: Offbeat Music Videos</h3>
                <p>[vibe]rations brings you a curated selection of unique and offbeat music videos. From lo-fi visuals to experimental sounds, this show is like finding a hidden signal of digital art and music. Great for discovering new vibes on our internet TV channel.</p>
            </div>

            <div class="show">
                <h3>:: POV: mom & dad are fighting again :: Experimental Broadcast</h3>
                <p>Experience 'POV: mom & dad are fighting again,' one of our most unique online shows. It's an experimental broadcast blending old TV signals, nostalgic aesthetics, and background ambiance. A lo-fi, dreamlike journey into the uncomfortable familiar.</p>
            </div>

            <div class="show">
                <h3>:: [iinnermission] :: Lo-fi Live Stream</h3>
                <p>Need to chill? [iinnermission] is our lo-fi live stream designed for focus, relaxation, or just background ambiance. Calming visuals and sounds from the Willow Arms universe. A perfect stream for downtime on the internet.</p>
            </div>
        </section>

         <section id="merch">
            <h2>[MERCH]</h2>
            <div style="border: 1px solid #00a3a3; padding: 10px; background-color: #1a1a33; box-sizing: border-box; width: 100%; overflow: hidden;">
                <iframe src="https://wapashop.printify.me"
                        style="width: 100%; height: 600px; border: none;">
                    <p>Your browser does not support iframes. Please visit the <a href="https://wapashop.printify.me">Merch Store</a> directly.</p>
                </iframe>
            </div>
        </section>

        <section id="tiktok-feed">
            <h2>[LATEST TIKTOKS]</h2>
            <div class="tiktok-container">
                <div class='sk-tiktok-feed' data-embed-id='25553721'></div><script src='https://widgets.sociablekit.com/tiktok-feed/widget.js' defer></script>
            </div>
        </section>

        </main>

    <footer>
        <p>&copy; 2025 Willow Arms Public Access. <br> Your source for offbeat internet TV.</p>
        </footer>

    <script>
        const participateButton = document.getElementById('participate-button');
        const popupOverlay = document.getElementById('popup-overlay');
        const popupYesButton = document.getElementById('popup-yes-button');
        let buttonX, buttonY, dx, dy;
        const defaultButtonSize = 60; // Default size if offsetWidth/Height isn't available yet
        const speed = 3;
        let animationInterval = null; // Initialize animationInterval

        function setTheme(themeName) {
            // Remove all theme classes before adding the new one
            document.body.className = document.body.className.replace(/theme-\S+/g, '').trim();
            if (themeName !== 'default') {
                document.body.classList.add('theme-' + themeName);
            }
            localStorage.setItem('wapTheme', themeName); // Save preference
            const themeSelect = document.getElementById('theme-select');
            if (themeSelect) {
                 themeSelect.value = themeName; // Sync dropdown
            }
        }

        function loadTheme() {
            const savedTheme = localStorage.getItem('wapTheme') || 'default'; // Get saved theme or use default
            setTheme(savedTheme);
        }

        function initializeButton() {
            if (!participateButton) return; // Exit if button doesn't exist

            const maxAttempts = 10;
            let attempts = 0;
            const buttonWidth = participateButton.offsetWidth || defaultButtonSize;
            const buttonHeight = participateButton.offsetHeight || defaultButtonSize;

            // Try to place the button away from the bottom-right corner
            while (attempts < maxAttempts) {
                buttonX = Math.random() * (window.innerWidth - buttonWidth);
                buttonY = Math.random() * (window.innerHeight - buttonHeight);

                const distanceToBottomRight = Math.sqrt(
                    Math.pow(window.innerWidth - buttonWidth - buttonX, 2) +
                    Math.pow(window.innerHeight - buttonHeight - buttonY, 2)
                );

                if (distanceToBottomRight > 150) { // Ensure it's not too close
                    break;
                }
                attempts++;
            }

             // Fallback position if constraint isn't met
             if (attempts === maxAttempts) {
                 buttonX = Math.max(0, Math.min(50, window.innerWidth - buttonWidth)); // Place near top-left but within bounds
                 buttonY = Math.max(0, Math.min(50, window.innerHeight - buttonHeight));
             }

            // Set initial velocity
            dx = (Math.random() - 0.5) * 2 * speed;
            dy = (Math.random() - 0.5) * 2 * speed;
            // Ensure it moves if velocity is zero
            if (Math.abs(dx) < 0.1 && Math.abs(dy) < 0.1) {
                 dx = (Math.random() < 0.5 ? -1 : 1) * speed;
                 dy = (Math.random() < 0.5 ? -1 : 1) * speed;
                 if (Math.abs(dx) < 0.1 && Math.abs(dy) < 0.1) dx = speed; // Final fallback
            }

            participateButton.style.left = buttonX + 'px';
            participateButton.style.top = buttonY + 'px';
            participateButton.style.display = 'block'; // Show the button
        }

        function updateButtonPosition() {
             if (!participateButton) return;

             const buttonWidth = participateButton.offsetWidth;
             const buttonHeight = participateButton.offsetHeight;

            buttonX += dx;
            buttonY += dy;

            // Bounce off walls and clamp position
            if (buttonX + buttonWidth > window.innerWidth) {
                dx = -Math.abs(dx); // Ensure velocity is negative
                buttonX = window.innerWidth - buttonWidth;
            } else if (buttonX < 0) {
                dx = Math.abs(dx); // Ensure velocity is positive
                buttonX = 0;
            }

            if (buttonY + buttonHeight > window.innerHeight) {
                dy = -Math.abs(dy); // Ensure velocity is negative
                buttonY = window.innerHeight - buttonHeight;
            } else if (buttonY < 0) {
                dy = Math.abs(dy); // Ensure velocity is positive
                buttonY = 0;
            }

            participateButton.style.left = buttonX + 'px';
            participateButton.style.top = buttonY + 'px';
        }

        // --- Event Listeners ---
        document.addEventListener('DOMContentLoaded', () => {
            loadTheme(); // Load theme as soon as DOM is ready

            const themeSelect = document.getElementById('theme-select');
            if (themeSelect) {
                themeSelect.addEventListener('change', (event) => {
                    setTheme(event.target.value);
                });
            }

            // Check if all required elements exist
            if (participateButton && popupOverlay && popupYesButton) {
                 // Use setTimeout to ensure layout is complete before getting dimensions
                 setTimeout(() => {
                     initializeButton();
                     // Clear any previous interval before starting a new one
                     if (animationInterval) clearInterval(animationInterval);
                     animationInterval = setInterval(updateButtonPosition, 30); // ~33fps
                 }, 0);

                participateButton.addEventListener('click', () => {
                    participateButton.style.display = 'none'; // Hide button
                    popupOverlay.style.display = 'flex';    // Show popup
                    if (animationInterval) {
                        clearInterval(animationInterval); // Stop animation
                        animationInterval = null;          // Clear interval ID
                    }
                });

                popupYesButton.addEventListener('click', () => {
                    popupOverlay.style.display = 'none'; // Hide popup
                    // Optional: Restart the button animation after closing popup
                    // setTimeout(initializeButton, 500); // Delay restart slightly
                    // if (!animationInterval) { // Start only if stopped
                    //     animationInterval = setInterval(updateButtonPosition, 30);
                    // }
                });
            } else {
                console.warn("Participate button or popup elements not found."); // Add warning if elements are missing
            }
        });

         // Adjust button position on resize if it's currently visible
         window.addEventListener('resize', () => {
              if (participateButton && participateButton.style.display === 'block') {
                   // Clamp position to new window bounds immediately
                   const buttonWidth = participateButton.offsetWidth;
                   const buttonHeight = participateButton.offsetHeight;
                   buttonX = Math.max(0, Math.min(buttonX, window.innerWidth - buttonWidth));
                   buttonY = Math.max(0, Math.min(buttonY, window.innerHeight - buttonHeight));
                   participateButton.style.left = buttonX + 'px';
                   participateButton.style.top = buttonY + 'px';
                   // Optional: could re-initialize if drastic resize occurs, but clamping is usually sufficient
                   // initializeButton();
              }
         });
    </script>
</body>
</html>