<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>[ wapa broadcasting ]</title>
    <meta name="description" content="Tune into Willow Arms Public Access, an offbeat internet TV channel featuring live streams, the Bonfire Podcast, unique music videos ([vibe]rations), experimental shows like 'POV: mom & dad are fighting again', and lo-fi streams ([iinnermission]). Discover weird online broadcasts.">
    <link rel="icon" href="wapabroadcastlogo.ico" type="image/x-icon">
    <script src="https://w.soundcloud.com/player/api.js"></script> {/* */}
    <style>

    /* --- Theme: AfterLounge Body Background --- */
    body.theme-afterlounge {
        background-image: url('afterlounge.png'); /* <-- REPLACE WITH YOUR BODY BACKGROUND IMAGE */
        background-size: cover;
        background-repeat: no-repeat;
        background-attachment: fixed;
        background-position: center center;
        background-color: #0c0c1a; /* Fallback color */
    }

    /* --- Theme: AfterLounge Sections --- */
    body.theme-afterlounge section {
        /* Sections have a semi-transparent background over the body image */
        background-color: rgba(26, 26, 51, 0.85); /* Semi-transparent dark blue/purple (85% opacity) */
        color: #ffffff; /* White text for readability */
        border: 1px solid #008b8b; /* Optional: slightly brighter border */
        /* Inherits other section styles like padding, margin, box-shadow */
    }

    /* --- Theme: AfterLounge Specific Element Styling --- */
    body.theme-afterlounge section h2,
    body.theme-afterlounge section h3 {
        color: #00e6e6; /* Bright headings */
        border-bottom-color: #00a3a3;
    }
    body.theme-afterlounge .show {
        background-color: rgba(42, 42, 77, 0.9); /* Slightly more opaque background for show boxes */
        border-left-color: #00e6e6; /* Bright accent border */
    }
    body.theme-afterlounge .show h3 {
        color: #00e6e6; /* Match section headings */
    }
     body.theme-afterlounge .show p {
        color: #dddddd; /* Lighter text for show descriptions */
    }
    body.theme-afterlounge .iframe-container { /* Ensure iframe containers also fit */
        background-color: rgba(26, 26, 51, 0.85);
        border-color: #008b8b;
    }
     body.theme-afterlounge .iframe-container p {
        color: #dddddd;
    }
     body.theme-afterlounge #livestream .video-container { /* Adjust video border if needed */
        border-color: #00e6e6;
        box-shadow: 0 0 10px rgba(0, 230, 230, 0.5);
     }
    /* --- End Theme: AfterLounge --- */


        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #0c0c1a; /* Default background */
            color: #cccccc;
            line-height: 1.5;
            overflow-x: hidden;
            font-size: 16px;
            transition: background-color 0.5s ease, color 0.5s ease, background-image 0.5s ease; /* Added background-image transition */
        }

        header {
            background-color: #1a1a33;
            color: #00e6e6;
            padding: 20px;
            text-align: center;
            border-bottom: 4px solid #005b5b;
            transition: background-color 0.5s ease, border-color 0.5s ease, color 0.5s ease;
        }

        header h2 {
            margin-top: 0;
            font-size: 2em;
            text-transform: uppercase;
            letter-spacing: 2px;
            color: #00a3a3;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            margin-bottom: 0;
            transition: color 0.5s ease;
        }

        header p {
            font-size: 1em;
            color: #999999;
            margin-top: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            margin-bottom: 0;
            transition: color 0.5s ease;
        }

        /* --- Simplified Controls Bar Styling --- */
        #controls-bar {
            background-color: #1f1f3d;
            padding: 8px 20px;
            display: flex;
            justify-content: flex-end; /* Push content (theme switcher) to the right */
            align-items: center;
            border-bottom: 1px solid #005b5b;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
            transition: background-color 0.5s ease, border-color 0.5s ease;
        }

        #controls-bar .theme-switcher {
             margin: 0;
             padding: 0;
             border: none;
             color: #cccccc;
             display: flex;
             align-items: center;
             gap: 8px;
             transition: color 0.5s ease;
        }

        #controls-bar .theme-switcher label {
            margin-right: 0;
            font-size: 0.85em;
            text-transform: uppercase;
            white-space: nowrap;
        }

        #controls-bar .theme-switcher select {
            font-size: 0.85em;
            padding: 4px 20px 4px 8px;
             background-image: linear-gradient(45deg, transparent 50%, currentColor 50%), linear-gradient(135deg, currentColor 50%, transparent 50%);
             background-position: calc(100% - 8px) center, calc(100% - 4px) center;
             background-size: 4px 4px, 4px 4px;
             background-repeat: no-repeat;
             appearance: none;
             -webkit-appearance: none;
             -moz-appearance: none;
             cursor: pointer;
             border-radius: 4px;
             border: 1px solid #00a3a3;
             background-color: #1a1a33;
             color: #00e6e6;
             transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        #controls-bar .theme-switcher select option {
             background-color: #1a1a33;
             color: #00e6e6;
        }
        /* --- End Controls Bar Styling --- */


        main {
            max-width: 1100px;
            margin: 0 auto;
            padding: 0 20px;
            box-sizing: border-box;
        }

        section {
            /* Default section background color (used if no theme overrides it) */
            background-color: #1a1a33;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid #005b5b; /* Default border */
            box-shadow: 5px 5px 15px rgba(0,0,0,0.3);
            box-sizing: border-box;
            transition: background-color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease, color 0.5s ease, background 0.5s ease; /* Added background transition */
        }

        main section:last-child {
            margin-bottom: 0;
        }

        section h2 {
            color: #00a3a3; /* Default heading color */
            border-bottom: 2px solid #005b5b; /* Default heading border */
            padding-bottom: 8px;
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.8em;
            text-transform: uppercase;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            max-width: 100%;
            transition: color 0.5s ease, border-color 0.5s ease;
        }

         section h3 {
             color: #00a3a3; /* Default heading color */
             border-bottom: 2px solid #005b5b; /* Default heading border */
             padding-bottom: 8px;
             margin-top: 0;
             margin-bottom: 20px;
             font-size: 1.8em;
             text-transform: uppercase;
             white-space: nowrap;
             overflow: hidden;
             text-overflow: ellipsis;
             display: block;
             max-width: 100%;
             transition: color 0.5s ease, border-color 0.5s ease;
         }

        p {
            color: #cccccc; /* Default paragraph color */
            margin-bottom: 15px;
            word-break: break-word;
            transition: color 0.5s ease;
        }

        #livestream .video-container {
            position: relative;
            max-width: 1280px;
            margin: 20px auto;
            padding-bottom: 56.25%;
            height: 0;
            overflow: hidden;
            background-color: #000;
            border: 2px solid #00e6e6; /* Default video border */
            box-shadow: 0 0 10px rgba(0, 230, 230, 0.5); /* Default video shadow */
            box-sizing: border-box;
            transition: border-color 0.5s ease, box-shadow 0.5s ease;
        }

        #livestream .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
        }

        #livestream .video-container p {
             position: absolute;
             top: 0;
             left: 0;
             width: 100%;
             height: 100%;
             display: flex;
             justify-content: center;
             align-items: center;
             color: #fff;
             font-size: 1.2em;
             padding: 20px;
             box-sizing: border-box;
             text-align: center;
             background-color: #000;
             z-index: 1;
             max-width: 100%;
        }

        .show {
            margin-bottom: 20px;
            padding: 15px;
            background-color: #2a2a4d; /* Default show background */
            border-left: 4px solid #00a3a3; /* Default show border */
            box-sizing: border-box;
            transition: background-color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }

        .show h3 {
            margin-top: 0;
            margin-bottom: 8px;
            color: #00e6e6; /* Default show title color */
            font-size: 1.3em;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            display: block;
            transition: color 0.5s ease;
        }

        .show p {
            color: #bbbbbb; /* Default show description color */
            font-size: 0.95em;
             word-break: break-word;
             transition: color 0.5s ease;
        }

        /* --- Styling for Iframe Containers (Merch, TikTok, Links) --- */
        .iframe-container {
            border: 1px solid #00a3a3; /* Default iframe border */
            padding: 10px;
            background-color: #1a1a33; /* Default iframe background */
            box-sizing: border-box;
            width: 100%;
            overflow: hidden;
            transition: border-color 0.5s ease, background-color 0.5s ease;
        }

        .iframe-container iframe {
            width: 100%;
            height: 600px; /* Default height */
            border: none;
            display: block;
        }

        .iframe-container p { /* Fallback text style */
             text-align: center;
             color: #999999; /* Default fallback text color */
             font-size: 0.9em;
             margin-bottom: 0;
             transition: color 0.5s ease;
        }

        #tiktok-feed .iframe-container { /* Specific adjustments for TikTok */
             height: 500px;
             overflow-y: scroll;
        }
         #tiktok-feed .iframe-container p { /* TikTok specific fallback adjustments */
             position: static;
             width: auto;
             height: auto;
             padding: 0;
         }

        /* --- Theme Switcher (already styled above in #controls-bar) --- */

        #participate-button {
            position: fixed;
            z-index: 1000;
            display: none; /* Hidden initially */
            padding: 10px 15px;
            background-color: #00a3a3;
            color: #1a1a33;
            border: 2px solid #00e6e6;
            border-radius: 5px;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 1em;
            box-shadow: 2px 2px 5px rgba(0,0,0,0.5);
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        #participate-button:hover {
             background-color: #00e6e6;
             color: #1a1a33;
             border-color: #00a3a3;
        }

        #popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            display: none; /* Hidden initially */
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        #popup-content {
            background-color: #1a1a33;
            padding: 30px;
            border: 2px solid #00a3a3;
            border-radius: 8px;
            text-align: center;
            max-width: 400px;
            box-shadow: 0 0 20px rgba(0, 163, 163, 0.5);
            color: #cccccc;
            transition: background-color 0.5s ease, color 0.5s ease, border-color 0.5s ease, box-shadow 0.5s ease;
        }

        #popup-content p {
            margin-top: 0;
            margin-bottom: 20px;
            font-size: 1.2em;
        }

        #popup-yes-button {
            background-color: #00a3a3;
            color: #1a1a33;
            border: 2px solid #00e6e6;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            text-transform: uppercase;
            font-size: 1em;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        #popup-yes-button:hover {
             background-color: #00e6e6;
             color: #1a1a33;
             border-color: #00a3a3;
        }

        /* --- Other Theme Styles --- */
        /* --- Theme: Noire --- */
        body.theme-noire { background-color: #111; color: #eee; background-image: none; }
        body.theme-noire header { background-color: #222; border-bottom-color: #555; }
        body.theme-noire #controls-bar { background-color: #2a2a2a; border-bottom-color: #555; }
        body.theme-noire #controls-bar .theme-switcher { color: #bbb; }
        body.theme-noire #controls-bar .theme-switcher select { background-color: #333; color: #eee; border-color: #888; }
        body.theme-noire #controls-bar .theme-switcher select option { background-color: #333; color: #eee; }
        body.theme-noire header h2, body.theme-noire section h2, body.theme-noire section h3 { color: #fff; border-bottom-color: #555; }
        body.theme-noire header p { color: #bbb; }
        body.theme-noire section { background: #222; border-color: #555; box-shadow: 5px 5px 15px rgba(0,0,0,0.5); color: #eee; } /* Use shorthand background */
        body.theme-noire .iframe-container { border-color: #555; background-color: #222; }
        body.theme-noire .iframe-container p { color: #bbb; }
        body.theme-noire #livestream .video-container { border-color: #fff; box-shadow: 0 0 10px rgba(255,255,255,0.3); }
        body.theme-noire .show { background-color: #333; border-left-color: #888; }
        body.theme-noire .show h3 { color: #eee; }
        body.theme-noire .show p { color: #ccc; }
        body.theme-noire footer { background-color: #222; color: #555; border-top-color: #555; }
        body.theme-noire #participate-button { background-color: #555; color: #eee; border-color: #888; }
        body.theme-noire #participate-button:hover { background-color: #888; color: #111; border-color: #eee; }
        body.theme-noire #popup-content { background-color: #222; border-color: #888; box-shadow: 0 0 20px rgba(136, 136, 136, 0.5); color: #eee; }
        body.theme-noire #popup-yes-button { background-color: #555; color: #eee; border-color: #888; }
        body.theme-noire #popup-yes-button:hover { background-color: #888; color: #111; border-color: #eee; }

        /* --- Theme: Slade --- */
        body.theme-slade { background-color: #222; color: #eee; background-image: none; }
        body.theme-slade header { background-color: #333; border-bottom-color: #ff6600; }
        body.theme-slade #controls-bar { background-color: #3a3a3a; border-bottom-color: #ff6600; }
        body.theme-slade #controls-bar .theme-switcher { color: #ccc; }
        body.theme-slade #controls-bar .theme-switcher select { background-color: #444; color: #ff9900; border-color: #ff6600; }
        body.theme-slade #controls-bar .theme-switcher select option { background-color: #444; color: #ff9900; }
        body.theme-slade header h2, body.theme-slade section h2, body.theme-slade section h3 { color: #ff9900; border-bottom-color: #ff6600; }
        body.theme-slade header p { color: #ccc; }
        body.theme-slade section { background: #333; border-color: #ff6600; box-shadow: 5px 5px 15px rgba(0,0,0,0.4); color: #eee; } /* Use shorthand background */
        body.theme-slade .iframe-container { border-color: #ff6600; background-color: #333; }
        body.theme-slade .iframe-container p { color: #ccc; }
        body.theme-slade #livestream .video-container { border-color: #ff9900; box-shadow: 0 0 10px rgba(255,153,0,0.5); }
        body.theme-slade .show { background-color: #444; border-left-color: #ff9900; }
        body.theme-slade .show h3 { color: #ffcc00; }
        body.theme-slade .show p { color: #ddd; }
        body.theme-slade footer { background-color: #333; color: #ff6600; border-top-color: #ff6600; }
        body.theme-slade #participate-button { background-color: #ff6600; color: #222; border-color: #ff9900; }
        body.theme-slade #participate-button:hover { background-color: #ff9900; color: #111; border-color: #ffcc00; }
        body.theme-slade #popup-content { background-color: #333; border-color: #ff9900; box-shadow: 0 0 20px rgba(255, 153, 0, 0.5); color: #eee; }
        body.theme-slade #popup-yes-button { background-color: #ff6600; color: #222; border-color: #ff9900; }
        body.theme-slade #popup-yes-button:hover { background-color: #ff9900; color: #111; border-color: #ffcc00; }

        /* --- Theme: Mr. Johnson --- */
        body.theme-mr-johnson { color: #00cc00; background-image: url('garage1.png'); background-color: #1a0033; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center center; }
        body.theme-mr-johnson header { background-color: #2a0055; border-bottom-color: #008000; color: #00ff00; }
        body.theme-mr-johnson #controls-bar { background-color: #300060; border-bottom-color: #008000; }
        body.theme-mr-johnson #controls-bar .theme-switcher { color: #00aa00; }
        body.theme-mr-johnson #controls-bar .theme-switcher select { background-color: #3a0066; color: #00ff00; border-color: #008000; }
        body.theme-mr-johnson #controls-bar .theme-switcher select option { background-color: #3a0066; color: #00ff00; }
        body.theme-mr-johnson header h2, body.theme-mr-johnson section h2, body.theme-mr-johnson section h3 { color: #00ff00; border-bottom-color: #008000; }
        body.theme-mr-johnson header p { color: #00aa00; }
        /* MODIFIED Mr. Johnson Section */
        body.theme-mr-johnson section {
            background: linear-gradient(rgba(42, 0, 85, 0.85), rgba(42, 0, 85, 0.85)), url('purpmarb.png') center center / cover no-repeat; /* <-- User already replaced this from my previous instruction */
            border-color: #008000;
            box-shadow: 5px 5px 15px rgba(0,0,0,0.4);
            color: #00cc00;
        }
        body.theme-mr-johnson .iframe-container { border-color: #008000; background-color: rgba(42, 0, 85, 0.85); }
        body.theme-mr-johnson .iframe-container p { color: #00aa00; }
        body.theme-mr-johnson #livestream .video-container { border-color: #00ff00; box-shadow: 0 0 10px rgba(0,255,0,0.5); }
        body.theme-mr-johnson .show { background-color: rgba(58, 0, 102, 0.9); border-left-color: #00ff00; }
        body.theme-mr-johnson .show h3 { color: #32cd32; }
        body.theme-mr-johnson .show p { color: #00dd00; }
        body.theme-mr-johnson footer { background-color: #2a0055; color: #00aa00; border-top-color: #008000; }
        body.theme-mr-johnson #participate-button { background-color: #008000; color: #1a0033; border-color: #00ff00; }
        body.theme-mr-johnson #participate-button:hover { background-color: #00ff00; color: #ffffff; border-color: #32cd32; }
        body.theme-mr-johnson #popup-content { background-color: #2a0055; border-color: #00ff00; box-shadow: 0 0 20px rgba(0, 255, 0, 0.5); color: #00dd00; }
        body.theme-mr-johnson #popup-yes-button { background-color: #008000; color: #1a0033; border-color: #00ff00; }
        body.theme-mr-johnson #popup-yes-button:hover { background-color: #00ff00; color: #ffffff; border-color: #32cd32; }

        /* --- Theme: Albright (Steampunk - Revised) --- */
        body.theme-albright { color: #cdc8b1; background-image: url('tp1.png'); background-color: #281c12; background-size: cover; background-repeat: no-repeat; background-attachment: fixed; background-position: center center; }
        body.theme-albright header { background-color: rgba(74, 57, 46, 0.85); border-bottom: 4px solid #b46a00; color: #ffc107; }
        body.theme-albright #controls-bar { background-color: rgba(90, 70, 55, 0.9); border-bottom-color: #b46a00; }
        body.theme-albright #controls-bar .theme-switcher { color: #a1887f; }
        body.theme-albright #controls-bar .theme-switcher select { background-color: #6f4f2d; color: #ffc107; border-color: #b46a00; }
        body.theme-albright #controls-bar .theme-switcher select option { background-color: #6f4f2d; color: #ffc107; }
        body.theme-albright header h2, body.theme-albright section h2, body.theme-albright section h3 { color: #ffc107; border-bottom-color: #b46a00; }
        body.theme-albright header p { color: #a1887f; }
        /* MODIFIED Albright Section */
        body.theme-albright section {
             /* Layered background: semi-transparent color overlay on top of image */
             background:
               linear-gradient(rgba(74, 57, 46, 0.7), rgba(74, 57, 46, 0.7)), /* Brown overlay (70% opaque) - Adjust 0.7 for desired opacity */
               url('goldtext.png') center center / cover no-repeat; /* <-- User already replaced this */
             border: 1px solid #b46a00;
             box-shadow: 5px 5px 15px rgba(0,0,0,0.6);
             color: #cdc8b1; /* Keep text color readable */
        }
        body.theme-albright .iframe-container { border-color: #b46a00; background-color: rgba(74, 57, 46, 0.85); } /* Keep iframe container distinct */
        body.theme-albright .iframe-container p { color: #a1887f; }
        body.theme-albright #livestream .video-container { border-color: #ffc107; box-shadow: 0 0 10px rgba(255,193,7,0.6); }
        body.theme-albright .show { background-color: rgba(111, 79, 45, 0.9); border-left: 4px solid #cd7f32; } /* Keep show background distinct */
        body.theme-albright .show h3 { color: #ffd700; }
        body.theme-albright .show p { color: #eee; }
        body.theme-albright footer { background-color: rgba(28, 18, 11, 0.9); color: #a1887f; border-top: 1px solid #4a392e; }
        body.theme-albright #participate-button { background-color: #b46a00; color: #281c12; border-color: #cd7f32; }
        body.theme-albright #participate-button:hover { background-color: #cd7f32; color: #4a392e; border-color: #ffd700; }
        body.theme-albright #popup-content { background-color: rgba(74, 57, 46, 0.95); border-color: #ffc107; box-shadow: 0 0 20px rgba(255, 193, 7, 0.6); color: #cdc8b1; }
        body.theme-albright #popup-yes-button { background-color: #b46a00; color: #281c12; border-color: #cd7f32; }
        body.theme-albright #popup-yes-button:hover { background-color: #cd7f32; color: #4a392e; border-color: #ffd700; }

        /* --- Theme: Riggin (Orange & Black) --- */
        body.theme-riggin { background-color: #000000; color: #FFA500; background-image: none; }
        body.theme-riggin header { background-color: #1a1a1a; border-bottom: 4px solid #FF8C00; color: #FFA500; }
        body.theme-riggin #controls-bar { background-color: #222222; border-bottom-color: #FF8C00; }
        body.theme-riggin #controls-bar .theme-switcher { color: #FFD700; }
        body.theme-riggin #controls-bar .theme-switcher select { background-color: #333333; color: #FFA500; border-color: #FF8C00; }
        body.theme-riggin #controls-bar .theme-switcher select option { background-color: #333333; color: #FFA500; }
        body.theme-riggin header h2 { color: #FFA500; }
        body.theme-riggin header p { color: #FFD700; }
        body.theme-riggin section { background: #1a1a1a; border: 1px solid #FF8C00; box-shadow: 5px 5px 15px rgba(50,50,50,0.4); color: #FFA500;} /* Use shorthand background */
        body.theme-riggin .iframe-container { border-color: #FF8C00; background-color: #1a1a1a; }
        body.theme-riggin .iframe-container p { color: #FFD700; }
        body.theme-riggin section h2, body.theme-riggin section h3 { color: #FFA500; border-bottom-color: #FF8C00; }
        body.theme-riggin #livestream .video-container { border-color: #FFA500; box-shadow: 0 0 10px rgba(255,165,0,0.6); }
        body.theme-riggin .show { background-color: #333333; border-left: 4px solid #FFA500; }
        body.theme-riggin .show h3 { color: #FFD700; }
        body.theme-riggin .show p { color: #cccccc; }
        body.theme-riggin footer { background-color: #1a1a1a; color: #FFD700; border-top: 1px solid #FF8C00; }
        body.theme-riggin #participate-button { background-color: #FFA500; color: #000000; border-color: #FF8C00; }
        body.theme-riggin #participate-button:hover { background-color: #FF8C00; color: #000000; border-color: #FFA500; }
        body.theme-riggin #popup-content { background-color: #1a1a1a; border-color: #FFA500; box-shadow: 0 0 20px rgba(255, 165, 0, 0.6); color: #FFA500; }
        body.theme-riggin #popup-yes-button { background-color: #FFA500; color: #000000; border-color: #FF8C00; }
        body.theme-riggin #popup-yes-button:hover { background-color: #FF8C00; color: #000000; border-color: #FFA500; }


        footer {
            text-align: center;
            padding: 20px;
            margin-top: 30px;
            background-color: #1a1a33; /* Default footer background */
            color: #666666; /* Default footer text color */
            font-size: 0.85em;
            border-top: 1px solid #005b5b; /* Default footer border */
            transition: background-color 0.5s ease, color 0.5s ease, border-top-color 0.5s ease;
        }

         /* --- Responsive adjustments --- */
        @media (max-width: 768px) {
            main {
                padding: 0 15px;
            }
            #controls-bar {
                 padding: 8px 15px;
                 justify-content: center;
            }

            section h2, section h3 {
                font-size: 1.4em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
            section {
                padding: 20px;
                margin-bottom: 20px;
            }
            .show {
                padding: 12px;
            }
            .show h3 {
                font-size: 1em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
            .show p {
                 white-space: normal;
                 overflow: visible;
                 text-overflow: clip;
            }
            header h2 {
                 font-size: 1.4em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
            header p {
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
        }

        @media (max-width: 480px) {
             main {
                 padding: 0 10px;
             }
             #controls-bar {
                 padding: 6px 10px;
                 justify-content: center;
             }
             #controls-bar .theme-switcher label {
                 font-size: 0.75em;
             }
              #controls-bar .theme-switcher select {
                 font-size: 0.75em;
                 padding: 3px 18px 3px 6px;
                 background-position: calc(100% - 6px) center, calc(100% - 3px) center;
                 background-size: 3px 3px, 3px 3px;
             }

            header h2 {
                font-size: 1.2em;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
            }

            section {
                padding: 15px;
                margin-bottom: 15px;
            }

            section h2, section h3 {
                font-size: 1.2em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
            }
             .iframe-container iframe {
                 height: 500px;
             }
             #tiktok-feed .iframe-container {
                 height: 400px;
             }
             #livestream .video-container {
                 max-width: 100%;
                 margin-left: 0;
                 margin-right: 0;
                 border-left: none;
                 border-right: none;
                 box-shadow: none;
            }
             #livestream .video-container p {
                 min-height: 0;
                 padding: 10px;
             }
             .show h3 {
                 font-size: 0.9em;
                 white-space: nowrap;
                 overflow: hidden;
                 text-overflow: ellipsis;
             }
             .show p {
                  white-space: normal;
                  overflow: visible;
                  text-overflow: clip;
             }
        }
    </style>
</head>
<body class="theme-albright"> <button id="participate-button">Participate</button>

    <div id="popup-overlay">
        <div id="popup-content">
            <p>You've come here in search of release, huh?</p>
            <button id="popup-yes-button">Yes</button>
        </div>
    </div>

    <header>
        <h2>// WILLOW ARMS PUBLIC ACCESS \\</h2>
        <p>Indie Online Broadcasts</p>
    </header>

    <div id="controls-bar">
         <div class="theme-switcher">
             <label for="theme-select">Theme:</label>
             <select id="theme-select">
                 <option value="afterlounge">AfterLounge</option>
                 <option value="noire">Noire</option>
                 <option value="slade">Slade</option>
                 <option value="mr-johnson">Mr. Johnson</option>
                 <option value="albright">Albright</option>
                 <option value="riggin">Riggin</option>
             </select>
         </div>
    </div>
    <main>
        <section id="livestream">
            <h2>[tune in]</h2>
            <div class="video-container">
                 <iframe src="https://player.kick.com/willowarmspublicaccess" height="720" width="1280" frameborder="0" scrolling="no" allowfullscreen="true"></iframe>
            </div>
        </section>

        <section id="about">
            <h2>[who are we]</h2>
            <p>Willow Arms Public Access is your source for truly independent internet television. We're an online broadcast experiment featuring live streams, unique shows, and unfiltered content outside the mainstream. If you're searching for offbeat online TV or a community public access vibe, you've found it.</p>
        </section>

        <section id="shows">
            <h2>[lineup]</h2>
            <p>Explore the programming lineup on Willow Arms Public Access:</p>
            <div class="show">
                <h3>:: The Bonfire Podcast :: Live Discussions & Rambling</h3>
                <p>Tune into The Bonfire Podcast live stream or catch reruns. It's an unfiltered discussion show covering anything and everything, like a digital gathering around a late-night fire. Expect tangents, strong opinions, and maybe a little bit of chaos. It's our main talk show broadcast.</p>
            </div>
            <div class="show">
                <h3>:: [vibe]rations :: Offbeat Music Videos</h3>
                <p>[vibe]rations brings you a curated selection of unique and offbeat music videos. From lo-fi visuals to experimental sounds, this show is like finding a hidden signal of digital art and music. Great for discovering new vibes on our internet TV channel.</p>
            </div>
            <div class="show">
                <h3>:: POV: mom & dad are fighting again :: Experimental Broadcast</h3>
                <p>Experience 'POV: mom & dad are fighting again,' one of our most unique online shows. It's an experimental broadcast blending old TV signals, nostalgic aesthetics, and background ambiance. A lo-fi, dreamlike journey into the uncomfortable familiar.</p>
            </div>
            <div class="show">
                <h3>:: [iinnermission] :: Lo-fi Live Stream</h3>
                <p>Need to chill? [iinnermission] is our lo-fi live stream designed for focus, relaxation, or just background ambiance. Calming visuals and sounds from the Willow Arms universe. A perfect stream for downtime on the internet.</p>
            </div>
        </section>

         <section id="merch">
            <h2>[MERCH]</h2>
            <div class="iframe-container">
                <iframe src="https://wapashop.printify.me">
                    <p>Your browser does not support iframes. Please visit the <a href="https://wapashop.printify.me">Merch Store</a> directly.</p>
                </iframe>
            </div>
        </section>

        <section id="tiktok-feed">
            <h2>[LATEST TIKTOKS]</h2>
             <div class="iframe-container">
                <div class='sk-tiktok-feed' data-embed-id='25553721'></div><script src='https://widgets.sociablekit.com/tiktok-feed/widget.js' defer></script>
             </div>
        </section>

        <section id="links-embed">
            <h2>[links]</h2>
            <div class="iframe-container">
                <iframe src="https://taplink.cc/wapaccess">
                    <p>Your browser does not support iframes. Please visit our <a href="https://taplink.cc/wapaccess">Links Page</a> directly.</p>
                </iframe>
            </div>
        </section>
        
        <section id="soundcloud-vibes">
            <h2>[BACKGROUND VIBES]</h2>
           <iframe width="100%" height="600" scrolling="no" frameborder="no" allow="autoplay" src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/playlists/2016641082&color=%230d0c0c&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"></iframe><div style="font-size: 10px; color: #242424;line-break: anywhere;word-break: normal;overflow: hidden;white-space: nowrap;text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif;font-weight: 100;"><a href="https://soundcloud.com/djsl34z" title="[wapa]" target="_blank" style="color: #242424; text-decoration: none;">[wapa]</a> Â· <a href="https://soundcloud.com/djsl34z/sets/willow-arms-public-broadcast-midwestern-ost" title="Willow Arms Public Broadcast Midwestern OST" target="_blank" style="color: #242424; text-decoration: none;">Willow Arms Public Broadcast Midwestern OST</a></div>
        </section>

    </main>

    <footer>
        <p>&copy; 2025 Willow Arms Public Access. <br> Your source for offbeat internet TV.</p>
    </footer>

    <script>
        // Javascript elements
        const participateButton = document.getElementById('participate-button');
        const popupOverlay = document.getElementById('popup-overlay');
        const popupYesButton = document.getElementById('popup-yes-button');
        let buttonX, buttonY, dx, dy;
        const defaultButtonSize = 60;
        const speed = 3;
        let animationInterval = null;

        function setTheme(themeName) {
            // Remove any existing theme classes first
            document.body.className = document.body.className.replace(/theme-\S+/g, '').trim();

            // Add the new theme class (e.g., 'theme-afterlounge', 'theme-noire')
            document.body.classList.add('theme-' + themeName); // MODIFIED: Always add the class

            localStorage.setItem('wapTheme', themeName);
            const themeSelect = document.getElementById('theme-select');
            if (themeSelect) {
                 themeSelect.value = themeName;
            }
        }

        function loadTheme() {
            // Default to Albright for testing, or use saved theme, or fallback to afterlounge
            const savedTheme = localStorage.getItem('wapTheme') || 'albright'; // Changed default here for testing
            setTheme(savedTheme);
        }

        function initializeButton() {
            if (!participateButton) return;
            const maxAttempts = 10;
            let attempts = 0;
            const buttonWidth = participateButton.offsetWidth || defaultButtonSize;
            const buttonHeight = participateButton.offsetHeight || defaultButtonSize;
            while (attempts < maxAttempts) {
                buttonX = Math.random() * (window.innerWidth - buttonWidth);
                buttonY = Math.random() * (window.innerHeight - buttonHeight);
                const distanceToBottomRight = Math.sqrt(
                    Math.pow(window.innerWidth - buttonWidth - buttonX, 2) +
                    Math.pow(window.innerHeight - buttonHeight - buttonY, 2)
                );
                if (distanceToBottomRight > 150) { break; }
                attempts++;
            }
             if (attempts === maxAttempts) {
                 buttonX = Math.max(0, Math.min(50, window.innerWidth - buttonWidth));
                 buttonY = Math.max(0, Math.min(50, window.innerHeight - buttonHeight));
             }
            dx = (Math.random() - 0.5) * 2 * speed;
            dy = (Math.random() - 0.5) * 2 * speed;
            if (Math.abs(dx) < 0.1 && Math.abs(dy) < 0.1) {
                 dx = (Math.random() < 0.5 ? -1 : 1) * speed;
                 dy = (Math.random() < 0.5 ? -1 : 1) * speed;
                 if (Math.abs(dx) < 0.1 && Math.abs(dy) < 0.1) dx = speed;
            }
            participateButton.style.left = buttonX + 'px';
            participateButton.style.top = buttonY + 'px';
            participateButton.style.display = 'block';
        }

        function updateButtonPosition() {
             if (!participateButton) return;
             const buttonWidth = participateButton.offsetWidth;
             const buttonHeight = participateButton.offsetHeight;
            buttonX += dx;
            buttonY += dy;
            if (buttonX + buttonWidth > window.innerWidth) {
                dx = -Math.abs(dx);
                buttonX = window.innerWidth - buttonWidth;
            } else if (buttonX < 0) {
                dx = Math.abs(dx);
                buttonX = 0;
            }
            if (buttonY + buttonHeight > window.innerHeight) {
                dy = -Math.abs(dy);
                buttonY = window.innerHeight - buttonHeight;
            } else if (buttonY < 0) {
                dy = Math.abs(dy);
                buttonY = 0;
            }
            participateButton.style.left = buttonX + 'px';
            participateButton.style.top = buttonY + 'px';
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadTheme(); // Load the saved or default theme
            const themeSelect = document.getElementById('theme-select');
            if (themeSelect) {
                themeSelect.addEventListener('change', (event) => {
                    setTheme(event.target.value);
                });
            }
            if (participateButton && popupOverlay && popupYesButton) {
                 setTimeout(() => {
                     initializeButton();
                     if (animationInterval) clearInterval(animationInterval);
                     animationInterval = setInterval(updateButtonPosition, 30);
                 }, 0);
                participateButton.addEventListener('click', () => {
                    participateButton.style.display = 'none';
                    popupOverlay.style.display = 'flex';
                    if (animationInterval) {
                        clearInterval(animationInterval);
                        animationInterval = null;
                    }
                });
                popupYesButton.addEventListener('click', () => {
                    popupOverlay.style.display = 'none';
                });
            } else {
                console.warn("Participate button or popup elements not found.");
            }

            // SoundCloud Player Logic
            const soundcloud_iframe = document.getElementById('soundcloud-widget');
            if (soundcloud_iframe && typeof SC !== 'undefined' && SC.Widget) { // Check if SC and SC.Widget are defined
                const widget = SC.Widget(soundcloud_iframe);

                widget.bind(SC.Widget.Events.READY, function() {
                    console.log('SoundCloud Widget Ready!');
                    widget.setVolume(0); // Start muted
                    // Attempt to play if auto_play parameter is in the iframe src
                    // User needs to ensure auto_play=true in the pasted iframe src.
                    widget.play(); 

                    // For looping the playlist:
                    widget.bind(SC.Widget.Events.FINISH, function() {
                        console.log('Playlist finished, attempting to loop.');
                        widget.seekTo(0); // Go to the beginning
                        widget.play();    // Play again
                    });
                });

                widget.bind(SC.Widget.Events.PLAY, function() {
                    console.log('SoundCloud Widget Playing');
                });

                widget.bind(SC.Widget.Events.ERROR, function(err) {
                    console.error('SoundCloud Widget Error:', err);
                });
            } else {
                if (!soundcloud_iframe) {
                    console.warn("SoundCloud iframe with id 'soundcloud-widget' not found. Player will not be initialized.");
                }
                if (typeof SC === 'undefined' || typeof SC.Widget === 'undefined') {
                     console.warn("SoundCloud Widget API (SC.Widget) not available. Player will not be initialized. Ensure api.js is loaded correctly.");
                }
            }
        });

         window.addEventListener('resize', () => {
              if (participateButton && participateButton.style.display === 'block') {
                   const buttonWidth = participateButton.offsetWidth;
                   const buttonHeight = participateButton.offsetHeight;
                   buttonX = Math.max(0, Math.min(buttonX, window.innerWidth - buttonWidth));
                   buttonY = Math.max(0, Math.min(buttonY, window.innerHeight - buttonHeight));
                   participateButton.style.left = buttonX + 'px';
                   participateButton.style.top = buttonY + 'px';
              }
         });
    </script>
</body>
</html>